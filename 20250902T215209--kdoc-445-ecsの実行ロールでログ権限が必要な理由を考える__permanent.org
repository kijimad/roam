:properties:
:ID: 20250902T215209
:mtime:    20251001081426
:ctime:    20250902215220
:end:
#+title:      KDOC 445: ECSの実行ロールでログ権限が必要な理由を考える
#+date:       [2025-09-02 Tue 21:52]
#+filetags:   :permanent:
#+identifier: 20250902T215209

* この文書のステータス
- 作成
  - [X] 2025-09-30 貴島
- レビュー
  - [X] 2025-10-06 貴島

* 概要

AWS ECSに関連したロールには2つあり、よく混同する。

- タスクロール
  - *タスク内のアプリケーションが* AWSサービスへアクセスするのに使う。例: S3, DynamoDB, SQS など、アプリケーションが直接使うサービスへの権限
- タスク実行ロール
   - *ECS 実行基盤 が* AWSサービスへアクセスするのに使う。例: CloudWatch Logs、ECR、Secrets Manager など

タスクの標準出力をログとしてCloudWatchに保存するときは、「アプリケーションは標準出力するだけで、ログを送るのはタスク実行基盤なので、タスク実行ロールが必要」と考えるとよい。

* 関連

- 類推: ECSについて戸惑う部分
