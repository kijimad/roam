<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2026-02-26T09:16:02Z -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>KDOC 508: é™¤ç®—ã®å®Ÿè¡Œé€Ÿåº¦ã‚’è¨ˆæ¸¬ã™ã‚‹</title>
<meta name="author" content="kijimaD" />
<meta name="generator" content="Org Mode" />
<link rel='shortcut icon' type='image/x-icon' href='https://kijimad.github.io/roam/favicon.ico' /><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' media='print' onload='this.media="all"' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/site.css' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/code.css' /><link rel='preconnect' href='https://fonts.googleapis.com'><link rel='preconnect' href='https://fonts.gstatic.com' crossorigin><link href='https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP&display=swap' rel='stylesheet'>
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content" class="content">
<h1 class="title">KDOC 508: é™¤ç®—ã®å®Ÿè¡Œé€Ÿåº¦ã‚’è¨ˆæ¸¬ã™ã‚‹</h1>
<div id="outline-container-org6a2f570" class="outline-2">
<h2 id="org6a2f570"><a href="#org6a2f570">ã“ã®æ–‡æ›¸ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</a></h2>
<div class="outline-text-2" id="text-org6a2f570">
<ul class="org-ul">
<li>ä½œæˆ
<ul class="org-ul">
<li class="on"><input type='checkbox' checked='checked' /> 2026-01-08 è²´å³¶</li>
</ul></li>
<li>ãƒ¬ãƒ“ãƒ¥ãƒ¼
<ul class="org-ul">
<li class="on"><input type='checkbox' checked='checked' /> 2026-01-08 è²´å³¶</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd1b7294" class="outline-2">
<h2 id="orgd1b7294"><a href="#orgd1b7294">æ¦‚è¦</a></h2>
<div class="outline-text-2" id="text-orgd1b7294">
<p>
é™¤ç®—ã¨ã„ã†ã®ã¯è² è·ã®å¤§ããªæ¼”ç®—ã§ã‚ã‚Šã€åŠ ç®—ãªã©ã®æ¼”ç®—ã«æ¯”ã¹ã‚‹ã¨ã€å®Ÿè¡Œã«è¦ã™ã‚‹æ™‚é–“ãŒã¯ã‚‹ã‹ã«é•·ã„(p51)ã€‚
</p>

<p>
ã‚¢ã‚»ãƒ³ãƒ–ãƒªã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€é™¤ç®—ã¯å‘½ä»¤æ•°ãŒå¤šã„ã®ã‚’ç¢ºèªã§ãã‚‹ã€‚å˜ç´”ã« <code>DIV</code> å‘½ä»¤ã ã‘ã§ã¯ãªã„ã€‚
</p>

<iframe width="800px" height="400px" src="https://godbolt.org/e#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:go,selection:(endColumn:17,endLineNumber:7,positionColumn:17,positionLineNumber:7,selectionStartColumn:17,selectionStartLineNumber:7,startColumn:17,startLineNumber:7),source:'//+Type+your+code+here,+or+load+an+example.%0A//+Your+function+name+should+start+with+a+capital+letter.%0Apackage+main%0A%0Afunc+main()+%7B%0A++++_+%3D+add(1,+2)%0A++++_+%3D+div(1,+2)%0A%7D%0A%0Afunc+add(a,+b+int)+int+%7B%0A++++return+a+%2B+b%0A%7D%0A%0Afunc+div(a,+b+int)+int%7B%0A+++return+a+/+b%0A%7D'),l:'5',n:'0',o:'Go+source+%231',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:gltip,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:go,libs:!(),options:'',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+x86-64+gc+(tip)+(Editor+%231)',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4"></iframe>

<p>
ã˜ã£ã•ã„ã«è¨ˆæ¸¬ã—ã¦ã¿ã‚‹ã€‚
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯</label><pre class="src src-shell">go install golang.org/x/perf/cmd/benchstat@latest

<span class="org-variable-name">tmpdir</span>=$(mktemp -d)
<span class="org-builtin">cd</span> $<span class="org-variable-name">tmpdir</span>

cat &gt; $<span class="org-variable-name">tmpdir</span>/bench_test.go &lt;&lt;EOF<span class="org-sh-heredoc">
  package main

  import "testing"

  func BenchmarkAdd(b *testing.B) {
        for i := 0; i &lt; b.N; i++ {
                _ = add(42)
        }
  }

  func BenchmarkDiv(b *testing.B) {
        for i := 0; i &lt; b.N; i++ {
                _ = div(42)
        }
  }

  //go:noinline
  func add(a int) int {
        return a + a
  }

  //go:noinline
  func div(a int) int {
        return a / a
  }
EOF
</span>
go mod init bench
go mod tidy
go test -bench=. -benchmem -count=10 &gt; exec.log

benchstat exec.log 2&gt;&amp;1

rm -rf $<span class="org-variable-name">tmpdir</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-nil">goos: linux
goarch: amd64
pkg: bench
cpu: AMD Ryzen 9 9900X 12-Core Processor
        â”‚   exec.log   â”‚
        â”‚    sec/op    â”‚
Add-24    0.9069n Â± 1% ğŸ‘ˆ
Div-24     1.262n Â± 4% ğŸ‘ˆ
geomean    1.070n

        â”‚   exec.log   â”‚
        â”‚     B/op     â”‚
Add-24    0.000 Â± 0%
Div-24    0.000 Â± 0%
geomean              Â¹
Â¹ summaries must be &gt;0 to compute geomean

        â”‚   exec.log   â”‚
        â”‚  allocs/op   â”‚
Add-24    0.000 Â± 0%
Div-24    0.000 Â± 0%
geomean              Â¹
Â¹ summaries must be &gt;0 to compute geomean
</pre>
</div>

<p>
ãŸã—ã‹ã«ã€é™¤ç®—ã¯åŠ ç®—ã‚ˆã‚Šæ™‚é–“ãŒã‹ã‹ã‚‹ã®ã‚’ç¢ºèªã§ããŸã€‚
</p>
</div>
</div>
<div id="outline-container-orgcd3de07" class="outline-2">
<h2 id="orgcd3de07"><a href="#orgcd3de07">é–¢é€£</a></h2>
<div class="outline-text-2" id="text-orgcd3de07">
<ul class="org-ul">
<li>å‚ç…§: <a href="20240810T122445--kdoc-217-ã€åŸºç¤ã‹ã‚‰ãã£ã¡ã‚Šè¦šãˆã‚‹-æ©Ÿæ¢°èªå…¥é–€ã€__book.html#ID-20240810T122445">KDOC 217: ã€åŸºç¤ã‹ã‚‰ãã£ã¡ã‚Šè¦šãˆã‚‹ æ©Ÿæ¢°èªå…¥é–€ã€</a>ã‹ã‚‰</li>
</ul>
</div>
</div>
<div id="outline-container-orgec81e30" class="outline-2">
<h2 id="orgec81e30"><a href="#orgec81e30">Backlinks</a></h2>
<div class="outline-text-2" id="text-orgec81e30">
<ul class="org-ul">
<li><a href="./20251224T090149--kdoc-520-goã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯å®šæ•°é™¤ç®—ã‚’ä¹—ç®—ã«å¤‰æ›ã™ã‚‹__permanent.html">KDOC 520: Goã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯å®šæ•°é™¤ç®—ã‚’ä¹—ç®—ã«å¤‰æ›ã™ã‚‹</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer>
</div>
</body>
</html>
